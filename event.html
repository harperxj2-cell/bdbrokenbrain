<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Entry</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 20px; background: #f0f8ff; color: #333; } /* Your color scheme */
        h1 { text-align: center; color: #2c5aa0; }
        textarea { width: 100%; height: 100px; padding: 10px; border: 2px solid #2c5aa0; border-radius: 8px; box-sizing: border-box; }
        label { display: block; margin: 15px 0 5px; font-weight: bold; }
        button { background: #2c5aa0; color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; width: 100%; margin-top: 20px; }
        button:hover { background: #1e3f70; }
        #saved { display: none; color: green; text-align: center; font-weight: bold; }
        .back-btn { background: #6c757d; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Event Entry</h1>
    
    <form id="eventForm">
        <label>Symptoms & Behaviors (mental: anxiety/irritability; physical: headache/tension; behavioral: withdrawal/fidgeting)</label>
        <textarea id="symptoms" placeholder="Describe symptoms, behaviors, and changes..." required></textarea>
        
        <label>Triggers & Stressors (events/thoughts before mood shift; external: work/social; internal: negative thoughts/illness)</label>
        <textarea id="triggers" placeholder="Note triggers, situations, external/internal factors..." required></textarea>
        
        <label>Date & Time</label>
        <input type="datetime-local" id="datetime" required>
        
        <button type="submit">Save Event</button>
        <button type="button" class="back-btn" onclick="window.location.href='index.html'">Back to Dashboard</button>
    </form>
    
    <div id="saved">Event saved locally!</div>

    <script>
        // Load current time if empty
        document.getElementById('datetime').valueAsDate = new Date();
        
        // Save to localStorage
        document.getElementById('eventForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const entry = {
                type: 'event',
                datetime: document.getElementById('datetime').value,
                symptoms: document.getElementById('symptoms').value,
                triggers: document.getElementById('triggers').value
            };
            
            let events = JSON.parse(localStorage.getItem('events') || '[]');
            events.push(entry);
            localStorage.setItem('events', JSON.stringify(events));
            
            document.getElementById('saved').style.display = 'block';
            setTimeout(() => { window.location.href = 'index.html'; }, 1500);
        });
    </script>
</body>
</html>
